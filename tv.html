<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ZINATeam Broadcasting System</title>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
  <script src="js/circle-progress.min.js"></script>
  <style>

    body, figure {
      margin: 0;
      padding:0;
      overflow: hidden;
    }
    .zinaBroadcast {
      max-width:100vw;
      width:100vw !important;
      height:auto;
      cursor: none;
      position: relative;
    }
    .zinaBroadcast #slider{
      width:100%;
      height: auto;
      overflow: hidden;
    }
    .zinaBroadcast #slider .slide {
      display: none;
    }
    .zinaBroadcast #slider img{
      width:100%;
      height: auto;
    }
     .zinaBroadcast #slider img.active{
      display: block;
    }
    .clockTimer {
      position: absolute;
      width: 6.5vw;
      height: 6.5vw;
      bottom: 0px;
      right: 0px;
    }
  </style>

</head>
<body>
  <section class="zinaBroadcast">
    <div class="clockTimer"></div>
    <div id="slider">
     <!--  <figure class="slide"><img src="img/001.jpg"></figure>
      <figure class="slide"><img src="img/002.jpg"></figure>
      <figure class="slide"><img src="img/003.jpg"></figure> -->
      <figure class="slide"><img src="img/004.jpg"></figure>
      <!-- <figure class="slide"><img src="img/005.jpg"></figure>
      <figure class="slide"><img src="img/006.jpg"></figure>  -->
    </div>
  </section>
  <script>
    var slideIndex = 0;
    var limit;

    showSlides();



    function showSlides(){
      if(window.animation !== undefined){
        window.clearInterval(window.animation);
      }
      var i;
      var t;
      var slides = document.getElementsByClassName('slide');
      t=0;
      for (i = 0; i < slides.length; i++){
        slides[i].style.display = 'none';
      }
      slideIndex++;
      if (slideIndex > slides.length) {
        slideIndex = 1
      } 
      if (slideIndex >= 1 && slideIndex <= 6) {
          t=25000;
        }
        // else if (slideIndex == 6) {
        //   t=10000;
        // }
        else if (slideIndex == 7) {
          t=15000;
        }
        else {
          t=5000;
        }
      slides[slideIndex-1].style.display = "block"; 
      setTimeout(showSlides, t);
      limit = t;

      var timeCount =0;
      limit = limit/10;
      window.animation = setInterval(function(limit){
      timeCount++;
      var perc = 0;
      perc = perc + timeCount/(limit-1);
      console.log(perc);
     
      if (perc<99){
        $('.clockTimer').circleProgress({
          value: perc,
          size: 50,
          fill: {gradient: ["#F6014D", "rgb(255,212,1)"]},
          emptyFill: "rgba(127,127,127,0.25)",
          animation: false,
        });  
      }

    },10, limit);

    }
   function timedRefresh(timeoutPeriod) {
     setTimeout("location.reload(true);",timeoutPeriod);
    }

    window.onload = timedRefresh(1800000);
  </script>
  <script>
    
  </script>
</body>
</html>